import{_ as s,a}from"./chunks/debug-alias.c8bc77b4.js";import{_ as n,o as p,c as l,Q as o}from"./chunks/framework.6ce6cb1b.js";const g=JSON.parse('{"title":"使用调试面板","description":"","frontmatter":{},"headers":[],"relativePath":"guide/debug-panel.md","filePath":"guide/debug-panel.md","lastUpdated":1704707355000}'),e={name:"guide/debug-panel.md"},t=o(`<h1 id="使用调试面板" tabindex="-1">使用调试面板 <a class="header-anchor" href="#使用调试面板" aria-label="Permalink to &quot;使用调试面板&quot;">​</a></h1><h2 id="开启调试模式" tabindex="-1">开启调试模式 <a class="header-anchor" href="#开启调试模式" aria-label="Permalink to &quot;开启调试模式&quot;">​</a></h2><p>开启调试模式后页面上会出现调试面板, 调试面板有各种便捷的插件来提高工作效率</p><ul><li>方式1, 使用了npm-federation插件的本地启动的服务, 会自动开启调试模式</li><li>方式2, 通过wpmjs.debug()开启调试模式</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">wpmjs.</span><span style="color:#B392F0;">debug</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">    baseUrl: </span><span style="color:#9ECBFF;">&quot;https://cdn.jsdelivr.net/npm&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    plugins: [</span><span style="color:#9ECBFF;">&quot;connect&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;alias&quot;</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">wpmjs.</span><span style="color:#6F42C1;">debug</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">    baseUrl: </span><span style="color:#032F62;">&quot;https://cdn.jsdelivr.net/npm&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    plugins: [</span><span style="color:#032F62;">&quot;connect&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;alias&quot;</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">})</span></span></code></pre></div><ul><li>方式3, 通过在url携带query调试参数开启调试模式, 例如 <a href="http://xxx.com?wpmDebug" target="_blank" rel="noreferrer">http://xxx.com?wpmDebug</a></li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// webpack.config.js</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">NpmFederation</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">require</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;npm-federation&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">NpmFederation</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  debug: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    openQuery: </span><span style="color:#9ECBFF;">&quot;wpmDebug&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    baseUrl: </span><span style="color:#9ECBFF;">&quot;https://cdn.jsdelivr.net/npm&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    plugins: [</span><span style="color:#9ECBFF;">&quot;connect&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;alias&quot;</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// webpack.config.js</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NpmFederation</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">require</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;npm-federation&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">NpmFederation</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  debug: {</span></span>
<span class="line"><span style="color:#24292E;">    openQuery: </span><span style="color:#032F62;">&quot;wpmDebug&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    baseUrl: </span><span style="color:#032F62;">&quot;https://cdn.jsdelivr.net/npm&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    plugins: [</span><span style="color:#032F62;">&quot;connect&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;alias&quot;</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">})</span></span></code></pre></div><ul><li>方式4, 通过localStorage开启调试模式</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">localStorage.</span><span style="color:#B392F0;">setItem</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;wpm-debug-open&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">localStorage.</span><span style="color:#6F42C1;">setItem</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;wpm-debug-open&quot;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">)</span></span></code></pre></div><h2 id="调试面板插件" tabindex="-1">调试面板插件 <a class="header-anchor" href="#调试面板插件" aria-label="Permalink to &quot;调试面板插件&quot;">​</a></h2><h2 id="connect" tabindex="-1">connect <a class="header-anchor" href="#connect" aria-label="Permalink to &quot;connect&quot;">​</a></h2><p>本地启动的服务可以通过插件上报本地端口至websocket来实现一键切换</p><ul><li>例: 本地只启动mf-app-01这一个模块的代码, 线上环境可以一键切换将这个模块连接到本地服务 <img src="`+s+'" alt=""></li></ul><h2 id="alias" tabindex="-1">alias <a class="header-anchor" href="#alias" aria-label="Permalink to &quot;alias&quot;">​</a></h2><p>通过调试面板alias插件, 可以自由切换线上应用的react模块的版本、url等, 来快捷调试多个版本 <img src="'+a+`" alt=""></p><h2 id="更多调试插件" tabindex="-1">更多调试插件 <a class="header-anchor" href="#更多调试插件" aria-label="Permalink to &quot;更多调试插件&quot;">​</a></h2><p>可以通过debug.plugins参数来使用调试面板插件:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// webpack.config.js</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">NpmFederation</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">require</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;npm-federation&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">NpmFederation</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  debug: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    openQuery: </span><span style="color:#9ECBFF;">&quot;wpmDebug&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    plugins: [</span><span style="color:#9ECBFF;">&quot;connect&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;alas&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;xxxx&quot;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">    baseUrl: </span><span style="color:#9ECBFF;">&quot;&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// webpack.config.js</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NpmFederation</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">require</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;npm-federation&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">NpmFederation</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  debug: {</span></span>
<span class="line"><span style="color:#24292E;">    openQuery: </span><span style="color:#032F62;">&quot;wpmDebug&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    plugins: [</span><span style="color:#032F62;">&quot;connect&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;alas&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;xxxx&quot;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">    baseUrl: </span><span style="color:#032F62;">&quot;&quot;</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">})</span></span></code></pre></div><p>通过npm查询更多wpm调试面板插件:</p><p><a href="https://www.npmjs.com/search?q=wpm-develop-" target="_blank" rel="noreferrer">https://www.npmjs.com/search?q=wpm-develop-</a></p>`,20),c=[t];function r(E,i,y,u,d,q){return p(),l("div",null,c)}const m=n(e,[["render",r]]);export{g as __pageData,m as default};
