<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>官方文档 | 官方文档</title>
    <meta name="description" content="微前端包管理工具">
    <link rel="preload stylesheet" href="/wpmjs/build/assets/style.d21c774e.css" as="style">
    
    <script type="module" src="/wpmjs/build/assets/app.3e820c37.js"></script>
    <link rel="preload" href="/wpmjs/build/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/wpmjs/build/assets/chunks/framework.933211d3.js">
    <link rel="modulepreload" href="/wpmjs/build/assets/chunks/theme.f3241ec5.js">
    <link rel="modulepreload" href="/wpmjs/build/assets/api_wpmjs.md.d5f954ab.lean.js">
    <link rel="shortcut icon" href="/logo.ico">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5a346dfe><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5a346dfe data-v-ae24b3ad><div class="VPNavBar has-sidebar" data-v-ae24b3ad data-v-a0fd61f4><div class="container" data-v-a0fd61f4><div class="title" data-v-a0fd61f4><div class="VPNavBarTitle has-sidebar" data-v-a0fd61f4 data-v-86d1bed8><a class="title" href="/wpmjs/build/" data-v-86d1bed8><!--[--><!--]--><!--[--><img class="VPImage logo" src="/wpmjs/build/logo.png" alt data-v-8426fc1a><!--]--><!--[-->官方文档<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-a0fd61f4><div class="curtain" data-v-a0fd61f4></div><div class="content-body" data-v-a0fd61f4><!--[--><!--]--><div class="VPNavBarSearch search" data-v-a0fd61f4><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索文档</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-a0fd61f4 data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/wpmjs/build/guide/" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>指南</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/wpmjs/build/api/" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>API</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://github.com/weimob-tech/wpmjs" target="_blank" rel="noreferrer" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>GitHub</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-a0fd61f4 data-v-e6aabb21><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-e6aabb21 data-v-ce54a7d1 data-v-b1685198><span class="check" data-v-b1685198><span class="icon" data-v-b1685198><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-ce54a7d1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-ce54a7d1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-a0fd61f4 data-v-40855f84 data-v-9c007e85><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-9c007e85><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-9c007e85><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-9c007e85><div class="VPMenu" data-v-9c007e85 data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-40855f84><div class="item appearance" data-v-40855f84><p class="label" data-v-40855f84>Appearance</p><div class="appearance-action" data-v-40855f84><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-40855f84 data-v-ce54a7d1 data-v-b1685198><span class="check" data-v-b1685198><span class="icon" data-v-b1685198><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-ce54a7d1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-ce54a7d1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-a0fd61f4 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-5a346dfe data-v-79c8c1df><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-79c8c1df><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-79c8c1df><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-79c8c1df>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-79c8c1df data-v-1c15a60a><button data-v-1c15a60a>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-5a346dfe data-v-b00e2fdd><div class="curtain" data-v-b00e2fdd></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-b00e2fdd><span class="visually-hidden" id="sidebar-aria-label" data-v-b00e2fdd> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>指南</h2><!----></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/wpmjs/build/guide/why.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>为什么选wpmjs</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/wpmjs/build/guide/import-remote.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>使用远程npm包</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/wpmjs/build/guide/upload-remote.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>开发远程npm包</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/wpmjs/build/guide/debug-panel.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>使用调试面板</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>扩展或贡献</h2><!----></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/wpmjs/build/contribute/loader.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>编写loader</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/wpmjs/build/contribute/develop-plugins.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>编写调试面板插件</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 has-active" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>API</h2><!----></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/wpmjs/build/api/plugin.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>插件API</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/wpmjs/build/api/wpmjs.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>wpmjs API</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5a346dfe data-v-669faec9><div class="VPDoc has-sidebar has-aside" data-v-669faec9 data-v-6b87e69f><!--[--><!--]--><div class="container" data-v-6b87e69f><div class="aside" data-v-6b87e69f><div class="aside-curtain" data-v-6b87e69f></div><div class="aside-container" data-v-6b87e69f><div class="aside-content" data-v-6b87e69f><div class="VPDocAside" data-v-6b87e69f data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-3f215769 data-v-d330b1bb><div class="content" data-v-d330b1bb><div class="outline-marker" data-v-d330b1bb></div><div class="outline-title" role="heading" aria-level="2" data-v-d330b1bb>目录</div><nav aria-labelledby="doc-outline-aria-label" data-v-d330b1bb><span class="visually-hidden" id="doc-outline-aria-label" data-v-d330b1bb> Table of Contents for current page </span><ul class="root" data-v-d330b1bb data-v-d0ee3533><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-6b87e69f><div class="content-container" data-v-6b87e69f><!--[--><!--]--><!----><main class="main" data-v-6b87e69f><div style="position:relative;" class="vp-doc _wpmjs_build_api_wpmjs" data-v-6b87e69f><div><h2 id="wpmjs-web-package-manager" tabindex="-1">wpmjs（web package manager） <a class="header-anchor" href="#wpmjs-web-package-manager" aria-label="Permalink to &quot;wpmjs（web package manager）&quot;">​</a></h2><p>wpmjs是一个能够加载umd、system、module-federation并共享依赖的加载器, 支持自定义或扩展模块加载器、支持多版本共存, 还配套了调试插件和打包工具插件</p><blockquote><p>默认使用<a href="https://npmjs.com/package/systemjs" target="_blank" rel="noreferrer">systemjs</a>和<a href="https://npmjs.com/package/module-federation-runtime" target="_blank" rel="noreferrer">module-federation-runtime</a>来加载各种模块, 也可以重新自行实现默认行为</p></blockquote><h2 id="在线示例" tabindex="-1">在线示例 <a class="header-anchor" href="#在线示例" aria-label="Permalink to &quot;在线示例&quot;">​</a></h2><p><a href="https://zhanghongen.github.io/universal-module-federation-plugin/" target="_blank" rel="noreferrer">去体验</a>, 下面的demo演示了使用 远程mf模块 + 远程umd模块 + 本地react模块</p><blockquote><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> wpmjs </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;wpmjs&quot;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> React </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;react&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">wpmjs.</span><span style="color:#B392F0;">setConfig</span><span style="color:#E1E4E8;">({ baseUrl: </span><span style="color:#9ECBFF;">&quot;https://cdn.jsdelivr.net/npm&quot;</span><span style="color:#E1E4E8;"> })</span></span>
<span class="line"><span style="color:#E1E4E8;">wpmjs.</span><span style="color:#B392F0;">addImportMap</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 统一域名</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;antd&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;antd@5.9.0/dist/antd.min.js&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;dayjs&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;dayjs@1.11.1&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 自定义url</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;mf-app-01&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;mfapp01@https://cdn.jsdelivr.net/npm/mf-app-01@1.0.5/dist/remoteEntry.js&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;react-dom&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;https://cdn.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.development.js&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span>
<span class="line"><span style="color:#6A737D;">// umd、system、mf都会优先寻找此处写入的依赖</span></span>
<span class="line"><span style="color:#E1E4E8;">wpmjs.</span><span style="color:#B392F0;">setShared</span><span style="color:#E1E4E8;">({ name: </span><span style="color:#9ECBFF;">&quot;react&quot;</span><span style="color:#E1E4E8;">, version: </span><span style="color:#9ECBFF;">&quot;18.2.0&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">: () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> React })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> wpmjs.</span><span style="color:#B392F0;">import</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;mf-app-01&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> wpmjs.</span><span style="color:#B392F0;">import</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;antd&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">wpmjs.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;react&quot;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> wpmjs </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;wpmjs&quot;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> React </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;react&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">wpmjs.</span><span style="color:#6F42C1;">setConfig</span><span style="color:#24292E;">({ baseUrl: </span><span style="color:#032F62;">&quot;https://cdn.jsdelivr.net/npm&quot;</span><span style="color:#24292E;"> })</span></span>
<span class="line"><span style="color:#24292E;">wpmjs.</span><span style="color:#6F42C1;">addImportMap</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 统一域名</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;antd&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;antd@5.9.0/dist/antd.min.js&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;dayjs&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;dayjs@1.11.1&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 自定义url</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;mf-app-01&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;mfapp01@https://cdn.jsdelivr.net/npm/mf-app-01@1.0.5/dist/remoteEntry.js&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;react-dom&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;https://cdn.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.development.js&quot;</span></span>
<span class="line"><span style="color:#24292E;">})</span></span>
<span class="line"><span style="color:#6A737D;">// umd、system、mf都会优先寻找此处写入的依赖</span></span>
<span class="line"><span style="color:#24292E;">wpmjs.</span><span style="color:#6F42C1;">setShared</span><span style="color:#24292E;">({ name: </span><span style="color:#032F62;">&quot;react&quot;</span><span style="color:#24292E;">, version: </span><span style="color:#032F62;">&quot;18.2.0&quot;</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">: () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> React })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">await</span><span style="color:#24292E;"> wpmjs.</span><span style="color:#6F42C1;">import</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;mf-app-01&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#D73A49;">await</span><span style="color:#24292E;"> wpmjs.</span><span style="color:#6F42C1;">import</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;antd&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">wpmjs.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;react&quot;</span><span style="color:#24292E;">)</span></span></code></pre></div></blockquote><h3 id="develop-plugins-调试插件" tabindex="-1">develop-plugins（调试插件） <a class="header-anchor" href="#develop-plugins-调试插件" aria-label="Permalink to &quot;develop-plugins（调试插件）&quot;">​</a></h3><p>develop-plugins是一个可扩展的调试面板（<a href="./../contribute/develop-plugins.html">开发调试插件</a>）, 系统插件connect和alias可以提供一键切换本地dev-server和调试指定版本的能力。 <img src="/wpmjs/build/assets/17000385880541.0d192f07.jpg" alt=""></p><h3 id="构建工具" tabindex="-1">构建工具 <a class="header-anchor" href="#构建工具" aria-label="Permalink to &quot;构建工具&quot;">​</a></h3><p>使用同步语法加载远程模块</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// bootstrap.js</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> React </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;react&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;">// react is remote module</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// bootstrap.js</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> React </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;react&quot;</span><span style="color:#24292E;"> </span><span style="color:#6A737D;">// react is remote module</span></span></code></pre></div><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// webpack.config.js</span></span>
<span class="line"><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">NpmFederation</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  remotes: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;react-dom&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;https://cdn.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.development.js&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  shared: {react: {}}</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// webpack.config.js</span></span>
<span class="line"><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">NpmFederation</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  remotes: {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;react-dom&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;https://cdn.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.development.js&quot;</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  shared: {react: {}}</span></span>
<span class="line"><span style="color:#24292E;">})</span></span></code></pre></div><ol><li><a href="https://github.com/zhangHongEn/universal-module-federation-plugin/tree/main/packages/npm-federation-webpack" target="_blank" rel="noreferrer">npm-federation</a></li></ol><h3 id="加载器" tabindex="-1">加载器 <a class="header-anchor" href="#加载器" aria-label="Permalink to &quot;加载器&quot;">​</a></h3><p>修改默认加载器或开发新加载器请看API: registerLoader() 部分</p><h2 id="api" tabindex="-1">API <a class="header-anchor" href="#api" aria-label="Permalink to &quot;API&quot;">​</a></h2><h2 id="setconfig" tabindex="-1">setConfig() <a class="header-anchor" href="#setconfig" aria-label="Permalink to &quot;setConfig()&quot;">​</a></h2><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">wpmjs.</span><span style="color:#B392F0;">setConfig</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  baseUrl: string; </span><span style="color:#6A737D;">// 统一url</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">defaultModuleType</span><span style="color:#E1E4E8;">(name): string; </span><span style="color:#6A737D;">// 加载未设置moduleType的模块时使用的模块类型</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">defaultVersion</span><span style="color:#E1E4E8;">(name: string): string; </span><span style="color:#6A737D;">// 加载未设置packageVersion的模块时使用的版本</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">defaultImportMap</span><span style="color:#E1E4E8;">(name: string): Map; </span><span style="color:#6A737D;">// 详看addImportMap</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">defaultGlobal</span><span style="color:#E1E4E8;">({name, version}): string; </span><span style="color:#6A737D;">// 加载未设置global的模块时使用的key</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">wpmjs.</span><span style="color:#6F42C1;">setConfig</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  baseUrl: string; </span><span style="color:#6A737D;">// 统一url</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">defaultModuleType</span><span style="color:#24292E;">(name): string; </span><span style="color:#6A737D;">// 加载未设置moduleType的模块时使用的模块类型</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">defaultVersion</span><span style="color:#24292E;">(name: string): string; </span><span style="color:#6A737D;">// 加载未设置packageVersion的模块时使用的版本</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">defaultImportMap</span><span style="color:#24292E;">(name: string): Map; </span><span style="color:#6A737D;">// 详看addImportMap</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">defaultGlobal</span><span style="color:#24292E;">({name, version}): string; </span><span style="color:#6A737D;">// 加载未设置global的模块时使用的key</span></span>
<span class="line"><span style="color:#24292E;">})</span></span></code></pre></div><p>全局配置</p><ol><li>注意, 这个demo并不是wpmjs的默认值<div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">wpmjs.</span><span style="color:#B392F0;">setConfig</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  baseUrl: </span><span style="color:#9ECBFF;">&quot;https://cdn.jsdelivr.net/npm/&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">defaultModuleType</span><span style="color:#E1E4E8;">() { </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;system&quot;</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">defaultVersion</span><span style="color:#E1E4E8;">() { </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;latest&quot;</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">defaultImportMap</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">name</span><span style="color:#E1E4E8;">) { </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> {packageName: name, packageQuery: </span><span style="color:#9ECBFF;">&quot;v=&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+new</span><span style="color:#E1E4E8;"> Date} },</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">defaultGlobal</span><span style="color:#E1E4E8;">({</span><span style="color:#FFAB70;">name</span><span style="color:#E1E4E8;">}) {</span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> name}</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">wpmjs.</span><span style="color:#6F42C1;">setConfig</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  baseUrl: </span><span style="color:#032F62;">&quot;https://cdn.jsdelivr.net/npm/&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">defaultModuleType</span><span style="color:#24292E;">() { </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;system&quot;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">defaultVersion</span><span style="color:#24292E;">() { </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;latest&quot;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">defaultImportMap</span><span style="color:#24292E;">(</span><span style="color:#E36209;">name</span><span style="color:#24292E;">) { </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {packageName: name, packageQuery: </span><span style="color:#032F62;">&quot;v=&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+new</span><span style="color:#24292E;"> Date} },</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">defaultGlobal</span><span style="color:#24292E;">({</span><span style="color:#E36209;">name</span><span style="color:#24292E;">}) {</span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> name}</span></span>
<span class="line"><span style="color:#24292E;">})</span></span></code></pre></div></li></ol><h2 id="addimportmap" tabindex="-1">addImportMap() <a class="header-anchor" href="#addimportmap" aria-label="Permalink to &quot;addImportMap()&quot;">​</a></h2><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">wpmjs.</span><span style="color:#B392F0;">addImportMap</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  [key: string]: string </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    url?: string; </span><span style="color:#6A737D;">// 自定义url</span></span>
<span class="line"><span style="color:#E1E4E8;">    global</span><span style="color:#F97583;">?:</span><span style="color:#E1E4E8;"> string; </span><span style="color:#6A737D;">// global的变量名</span></span>
<span class="line"><span style="color:#E1E4E8;">    moduleType</span><span style="color:#F97583;">?:</span><span style="color:#E1E4E8;"> string; </span><span style="color:#6A737D;">// 模块类型</span></span>
<span class="line"><span style="color:#E1E4E8;">    packageName</span><span style="color:#F97583;">?:</span><span style="color:#E1E4E8;"> string; </span><span style="color:#6A737D;">// 包名, 会用作统一url规则的拼接</span></span>
<span class="line"><span style="color:#E1E4E8;">    packageQuery</span><span style="color:#F97583;">?:</span><span style="color:#E1E4E8;"> string; </span><span style="color:#6A737D;">// 查询参数, 会用作统一url规则的拼接 </span></span>
<span class="line"><span style="color:#E1E4E8;">    packageVersion</span><span style="color:#F97583;">?:</span><span style="color:#E1E4E8;"> string; </span><span style="color:#6A737D;">// 包版本, 会用作统一url规则的拼接</span></span>
<span class="line"><span style="color:#E1E4E8;">    packageFilename</span><span style="color:#F97583;">?:</span><span style="color:#E1E4E8;"> string; </span><span style="color:#6A737D;">// 包入口文件, 会用作同意url规则的拼接</span></span>
<span class="line"><span style="color:#E1E4E8;">    strictVersion</span><span style="color:#F97583;">?:</span><span style="color:#E1E4E8;"> boolean; </span><span style="color:#6A737D;">// 获取到的共享模块与指定版本不符则会发起请求加载指定版本</span></span>
<span class="line"><span style="color:#E1E4E8;">    shareScope</span><span style="color:#F97583;">?:</span><span style="color:#E1E4E8;"> string; </span><span style="color:#6A737D;">// 寻找依赖的空间</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">wpmjs.</span><span style="color:#6F42C1;">addImportMap</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  [key: string]: string </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    url?: string; </span><span style="color:#6A737D;">// 自定义url</span></span>
<span class="line"><span style="color:#24292E;">    global</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;"> string; </span><span style="color:#6A737D;">// global的变量名</span></span>
<span class="line"><span style="color:#24292E;">    moduleType</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;"> string; </span><span style="color:#6A737D;">// 模块类型</span></span>
<span class="line"><span style="color:#24292E;">    packageName</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;"> string; </span><span style="color:#6A737D;">// 包名, 会用作统一url规则的拼接</span></span>
<span class="line"><span style="color:#24292E;">    packageQuery</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;"> string; </span><span style="color:#6A737D;">// 查询参数, 会用作统一url规则的拼接 </span></span>
<span class="line"><span style="color:#24292E;">    packageVersion</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;"> string; </span><span style="color:#6A737D;">// 包版本, 会用作统一url规则的拼接</span></span>
<span class="line"><span style="color:#24292E;">    packageFilename</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;"> string; </span><span style="color:#6A737D;">// 包入口文件, 会用作同意url规则的拼接</span></span>
<span class="line"><span style="color:#24292E;">    strictVersion</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;"> boolean; </span><span style="color:#6A737D;">// 获取到的共享模块与指定版本不符则会发起请求加载指定版本</span></span>
<span class="line"><span style="color:#24292E;">    shareScope</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;"> string; </span><span style="color:#6A737D;">// 寻找依赖的空间</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">})</span></span></code></pre></div><p>配置模块映射, 多个属性可分多次配置, 每个属性以第一次注册为准, 多次注册不会产生覆盖。其中如果有不规则的远程模块链接可以设置url属性, 否则推荐通过packageName、packageVersion等属性统一管理远程模块的链接。</p><ol><li>字符串简写语法: 通过url映射umd和mf模块 <ol><li>global@https?😕/开头的设置为mf<div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">wpmjs.</span><span style="color:#B392F0;">addImportMap</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 等同于配置: {moduleType: &quot;mf&quot;, global, url}</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;mf-app-01&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;mfapp01@https://cdn.jsdelivr.net/npm/mf-app-01@1.0.5/dist/remoteEntry.js&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">wpmjs.</span><span style="color:#6F42C1;">addImportMap</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 等同于配置: {moduleType: &quot;mf&quot;, global, url}</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;mf-app-01&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;mfapp01@https://cdn.jsdelivr.net/npm/mf-app-01@1.0.5/dist/remoteEntry.js&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">})</span></span></code></pre></div></li><li>https?😕/开头的设置为system<div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">wpmjs.</span><span style="color:#B392F0;">addImportMap</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 等同于配置: {moduleType: &quot;system&quot;, url}</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;react-dom&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;https://cdn.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.development.js&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">wpmjs.</span><span style="color:#6F42C1;">addImportMap</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 等同于配置: {moduleType: &quot;system&quot;, url}</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;react-dom&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;https://cdn.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.development.js&quot;</span></span>
<span class="line"><span style="color:#24292E;">})</span></span></code></pre></div></li></ol></li><li>简写语法: 通过npm包名语法映射配置 <ol><li>含有remoteEntry.js设置为mf<div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">wpmjs.</span><span style="color:#B392F0;">addImportMap</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 等同于配置: {moduleType: &quot;mf&quot;, packageName: &quot;mf-app-01&quot;, packageVersion: &quot;1.0.5&quot;, packageFilename: &quot;dist/remoteEntry.js&quot;}</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;mf-app-01&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;mf-app-01@1.0.5/dist/remoteEntry.js&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">wpmjs.</span><span style="color:#6F42C1;">addImportMap</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 等同于配置: {moduleType: &quot;mf&quot;, packageName: &quot;mf-app-01&quot;, packageVersion: &quot;1.0.5&quot;, packageFilename: &quot;dist/remoteEntry.js&quot;}</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;mf-app-01&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;mf-app-01@1.0.5/dist/remoteEntry.js&quot;</span></span>
<span class="line"><span style="color:#24292E;">})</span></span></code></pre></div></li><li>无remoteEntry.js设置为system<div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">wpmjs.</span><span style="color:#B392F0;">addImportMap</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 等同于配置: {moduleType: &quot;system&quot;, packageName: &quot;react-dom&quot;, packageFilename: &quot;dist/umd/react-dom.development.js&quot;}</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;react-dom&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;react-dom/umd/react-dom.development.js&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">wpmjs.</span><span style="color:#6F42C1;">addImportMap</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 等同于配置: {moduleType: &quot;system&quot;, packageName: &quot;react-dom&quot;, packageFilename: &quot;dist/umd/react-dom.development.js&quot;}</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;react-dom&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;react-dom/umd/react-dom.development.js&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">})</span></span></code></pre></div></li><li>无filename不设置moduleType<div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">wpmjs.</span><span style="color:#B392F0;">addImportMap</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">     </span><span style="color:#6A737D;">// 等同于配置: {packageName: &quot;react&quot;, packageVersion: &quot;18.2.0&quot;}</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;react&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;react@18.2.0&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">wpmjs.</span><span style="color:#6F42C1;">addImportMap</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">     </span><span style="color:#6A737D;">// 等同于配置: {packageName: &quot;react&quot;, packageVersion: &quot;18.2.0&quot;}</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;react&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;react@18.2.0&quot;</span></span>
<span class="line"><span style="color:#24292E;">})</span></span></code></pre></div></li></ol></li><li>对象语法: 可以分多次分别设置{moduleType, global, packageName, packageQuery, packageVersion, packageFilename, strictVersion, shareScope } 。 <ol><li>单独设置包版本<div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">wpmjs.</span><span style="color:#B392F0;">addImportMap</span><span style="color:#E1E4E8;">({ </span><span style="color:#9ECBFF;">&quot;react&quot;</span><span style="color:#E1E4E8;">: {packageVersion: </span><span style="color:#9ECBFF;">&quot;18.2.0&quot;</span><span style="color:#E1E4E8;">, moduleType: </span><span style="color:#9ECBFF;">&quot;system&quot;</span><span style="color:#E1E4E8;">}, </span><span style="color:#9ECBFF;">&quot;react-dom&quot;</span><span style="color:#E1E4E8;">: { packageVersion: </span><span style="color:#9ECBFF;">&quot;18.2.0&quot;</span><span style="color:#E1E4E8;"> } })</span></span>
<span class="line"><span style="color:#6A737D;">// react-dom会使用18.2.0版本而不是17.0.2</span></span>
<span class="line"><span style="color:#E1E4E8;">wpmjs.</span><span style="color:#B392F0;">addImportMap</span><span style="color:#E1E4E8;">({ </span><span style="color:#9ECBFF;">&quot;react&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;react&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;react-dom&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;react-dom@17.0.2/umd/react-dom.development.js&quot;</span><span style="color:#E1E4E8;"> })</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">wpmjs.</span><span style="color:#6F42C1;">addImportMap</span><span style="color:#24292E;">({ </span><span style="color:#032F62;">&quot;react&quot;</span><span style="color:#24292E;">: {packageVersion: </span><span style="color:#032F62;">&quot;18.2.0&quot;</span><span style="color:#24292E;">, moduleType: </span><span style="color:#032F62;">&quot;system&quot;</span><span style="color:#24292E;">}, </span><span style="color:#032F62;">&quot;react-dom&quot;</span><span style="color:#24292E;">: { packageVersion: </span><span style="color:#032F62;">&quot;18.2.0&quot;</span><span style="color:#24292E;"> } })</span></span>
<span class="line"><span style="color:#6A737D;">// react-dom会使用18.2.0版本而不是17.0.2</span></span>
<span class="line"><span style="color:#24292E;">wpmjs.</span><span style="color:#6F42C1;">addImportMap</span><span style="color:#24292E;">({ </span><span style="color:#032F62;">&quot;react&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;react&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;react-dom&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;react-dom@17.0.2/umd/react-dom.development.js&quot;</span><span style="color:#24292E;"> })</span></span></code></pre></div></li></ol></li></ol><h2 id="import" tabindex="-1">import() <a class="header-anchor" href="#import" aria-label="Permalink to &quot;import()&quot;">​</a></h2><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">import</span><span style="color:#E1E4E8;">(request: string): </span><span style="color:#79B8FF;">Promise</span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;">Module </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> any</span><span style="color:#F97583;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">import</span><span style="color:#24292E;">(request: string): </span><span style="color:#005CC5;">Promise</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">Module </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> any</span><span style="color:#D73A49;">&gt;</span></span></code></pre></div><p>加载并获取远程模块, 会自动缓存不进行多次请求, request可以是一个模块名, 也可以是一个模块+入口路径名</p><ol><li>直接加载某个入口, 结果等同于2</li></ol><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">entry</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> wpmjs.</span><span style="color:#B392F0;">import</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;mf-app-01/App&quot;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">entry</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> wpmjs.</span><span style="color:#6F42C1;">import</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;mf-app-01/App&quot;</span><span style="color:#24292E;">)</span></span></code></pre></div><ol start="2"><li>只加载某个模块, 不加载具体的入口</li></ol><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">module</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> wpmjs.</span><span style="color:#B392F0;">import</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;mf-app-01&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#6A737D;">// 需要的时候再加载入口./App</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">entry</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> container.</span><span style="color:#B392F0;">$getEntry</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;./App&quot;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">module</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> wpmjs.</span><span style="color:#6F42C1;">import</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;mf-app-01&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#6A737D;">// 需要的时候再加载入口./App</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">entry</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> container.</span><span style="color:#6F42C1;">$getEntry</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;./App&quot;</span><span style="color:#24292E;">)</span></span></code></pre></div><blockquote><p>对应写法2, 入参是一个模块名不包含入口路径的时候, 会为返回值挂载$getEntry来抹平各种类型的模块获取入口的方式。wpmjs为每种模块提供了默认的入口解析行为, 但你也可以进行自定义。</p><ul><li>umd或system模块: <a href="./src/extras/umdAndSystem.js">wpmjs/src/extras/umdAndSystem.js</a> resolveEntry()</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">umdModule.</span><span style="color:#B392F0;">$getEntry</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;App&quot;</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">====</span><span style="color:#E1E4E8;">内部逻辑等于</span><span style="color:#F97583;">====</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> umdModule[</span><span style="color:#9ECBFF;">&quot;App&quot;</span><span style="color:#E1E4E8;">]()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">umdModule.</span><span style="color:#6F42C1;">$getEntry</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;App&quot;</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">====</span><span style="color:#24292E;">内部逻辑等于</span><span style="color:#D73A49;">====</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> umdModule[</span><span style="color:#032F62;">&quot;App&quot;</span><span style="color:#24292E;">]()</span></span></code></pre></div><ul><li>module-federation模块: <a href="./src/extras/mf.js">wpmjs/src/extras/mf.js</a> resolveEntry()</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">mfModule.</span><span style="color:#B392F0;">$getEntry</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;App&quot;</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">====</span><span style="color:#E1E4E8;">内部逻辑等于</span><span style="color:#F97583;">====</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> mfModule.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;App&quot;</span><span style="color:#E1E4E8;">))()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">mfModule.</span><span style="color:#6F42C1;">$getEntry</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;App&quot;</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">====</span><span style="color:#24292E;">内部逻辑等于</span><span style="color:#D73A49;">====</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> mfModule.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;App&quot;</span><span style="color:#24292E;">))()</span></span></code></pre></div><ul><li>json模块: <a href="./src/extras/json.js">wpmjs/src/extras/json.js</a> resolveEntry()</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">jsonModule.</span><span style="color:#B392F0;">$getEntry</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;App&quot;</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">====</span><span style="color:#E1E4E8;">内部逻辑等于</span><span style="color:#F97583;">====</span><span style="color:#E1E4E8;"> jsonModule[</span><span style="color:#9ECBFF;">&quot;App&quot;</span><span style="color:#E1E4E8;">]</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">jsonModule.</span><span style="color:#6F42C1;">$getEntry</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;App&quot;</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">====</span><span style="color:#24292E;">内部逻辑等于</span><span style="color:#D73A49;">====</span><span style="color:#24292E;"> jsonModule[</span><span style="color:#032F62;">&quot;App&quot;</span><span style="color:#24292E;">]</span></span></code></pre></div></blockquote><h2 id="get" tabindex="-1">get() <a class="header-anchor" href="#get" aria-label="Permalink to &quot;get()&quot;">​</a></h2><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">wpmjs.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(request: string): any</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">wpmjs.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(request: string): any</span></span></code></pre></div><p>从缓存中获取某个模块的同步值, 模块加载完毕前会获取到undefined</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">wpmjs.</span><span style="color:#B392F0;">import</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;react&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">wpmjs.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;react&quot;</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// undefined</span></span>
<span class="line"><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> wpmjs.</span><span style="color:#B392F0;">import</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;react&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">wpmjs.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;react&quot;</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// React</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">wpmjs.</span><span style="color:#6F42C1;">import</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;react&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">wpmjs.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;react&quot;</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// undefined</span></span>
<span class="line"><span style="color:#D73A49;">await</span><span style="color:#24292E;"> wpmjs.</span><span style="color:#6F42C1;">import</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;react&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">wpmjs.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;react&quot;</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// React</span></span></code></pre></div><h2 id="setshared" tabindex="-1">setShared() <a class="header-anchor" href="#setshared" aria-label="Permalink to &quot;setShared()&quot;">​</a></h2><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">wpmjs.</span><span style="color:#B392F0;">setShared</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 模块名</span></span>
<span class="line"><span style="color:#E1E4E8;">    name: string,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 模版版本</span></span>
<span class="line"><span style="color:#E1E4E8;">    version: string,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 模块加载函数</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">: </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;">()</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Promise</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#79B8FF;">any</span><span style="color:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#E1E4E8;">    loaded</span><span style="color:#F97583;">?:</span><span style="color:#E1E4E8;"> boolean </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> number;</span></span>
<span class="line"><span style="color:#E1E4E8;">    shareScope</span><span style="color:#F97583;">?:</span><span style="color:#E1E4E8;"> string;</span></span>
<span class="line"><span style="color:#E1E4E8;">    fromType</span><span style="color:#F97583;">?:</span><span style="color:#E1E4E8;"> string;</span></span>
<span class="line"><span style="color:#E1E4E8;">    from</span><span style="color:#F97583;">?:</span><span style="color:#E1E4E8;"> string;</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">wpmjs.</span><span style="color:#6F42C1;">setShared</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 模块名</span></span>
<span class="line"><span style="color:#24292E;">    name: string,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 模版版本</span></span>
<span class="line"><span style="color:#24292E;">    version: string,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 模块加载函数</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">: </span><span style="color:#D73A49;">function</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Promise</span><span style="color:#24292E;">&lt;</span><span style="color:#005CC5;">any</span><span style="color:#24292E;">&gt;;</span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#24292E;">    loaded</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;"> boolean </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> number;</span></span>
<span class="line"><span style="color:#24292E;">    shareScope</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;"> string;</span></span>
<span class="line"><span style="color:#24292E;">    fromType</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;"> string;</span></span>
<span class="line"><span style="color:#24292E;">    from</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;"> string;</span></span>
<span class="line"><span style="color:#24292E;">})</span></span></code></pre></div><p>注册一个共享模块, 共享模块支持多版本共存, <em><strong>自动在umd、system、module-federation及其shared等各种模块之间进行共享和互通</strong></em></p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">wpmjs.</span><span style="color:#B392F0;">setShared</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  name: </span><span style="color:#9ECBFF;">&quot;react&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  version: </span><span style="color:#9ECBFF;">&quot;18.2.0&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 可以去请求远程资源</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> System.</span><span style="color:#B392F0;">import</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;https://react.js&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 也可返回本地对象</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> {test: </span><span style="color:#79B8FF;">1111</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">wpmjs.</span><span style="color:#6F42C1;">setShared</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  name: </span><span style="color:#032F62;">&quot;react&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  version: </span><span style="color:#032F62;">&quot;18.2.0&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 可以去请求远程资源</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> System.</span><span style="color:#6F42C1;">import</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;https://react.js&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 也可返回本地对象</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {test: </span><span style="color:#005CC5;">1111</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">})</span></span></code></pre></div><h2 id="getshared" tabindex="-1">getShared() <a class="header-anchor" href="#getshared" aria-label="Permalink to &quot;getShared()&quot;">​</a></h2><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">wpmjs.</span><span style="color:#B392F0;">getShared</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  name: string;</span></span>
<span class="line"><span style="color:#E1E4E8;">  strictVersion</span><span style="color:#F97583;">?:</span><span style="color:#E1E4E8;"> boolean;</span></span>
<span class="line"><span style="color:#E1E4E8;">  singleton</span><span style="color:#F97583;">?:</span><span style="color:#E1E4E8;"> boolean;</span></span>
<span class="line"><span style="color:#E1E4E8;">  shareScope</span><span style="color:#F97583;">?:</span><span style="color:#E1E4E8;"> string;</span></span>
<span class="line"><span style="color:#E1E4E8;">  requiredVersion</span><span style="color:#F97583;">?:</span><span style="color:#E1E4E8;"> string;</span></span>
<span class="line"><span style="color:#E1E4E8;">}): </span><span style="color:#79B8FF;">Promise</span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;">any</span><span style="color:#F97583;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">wpmjs.</span><span style="color:#6F42C1;">getShared</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  name: string;</span></span>
<span class="line"><span style="color:#24292E;">  strictVersion</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;"> boolean;</span></span>
<span class="line"><span style="color:#24292E;">  singleton</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;"> boolean;</span></span>
<span class="line"><span style="color:#24292E;">  shareScope</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;"> string;</span></span>
<span class="line"><span style="color:#24292E;">  requiredVersion</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;"> string;</span></span>
<span class="line"><span style="color:#24292E;">}): </span><span style="color:#005CC5;">Promise</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">any</span><span style="color:#D73A49;">&gt;</span></span></code></pre></div><p>加载共享模块</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> wpmjs.</span><span style="color:#B392F0;">getShared</span><span style="color:#E1E4E8;">({name: </span><span style="color:#9ECBFF;">&quot;react&quot;</span><span style="color:#E1E4E8;">})</span></span>
<span class="line"><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> wpmjs.</span><span style="color:#B392F0;">getShared</span><span style="color:#E1E4E8;">({name: </span><span style="color:#9ECBFF;">&quot;react&quot;</span><span style="color:#E1E4E8;">, requiredVersion: </span><span style="color:#9ECBFF;">&quot;18.2.0&quot;</span><span style="color:#E1E4E8;">, singleton: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">await</span><span style="color:#24292E;"> wpmjs.</span><span style="color:#6F42C1;">getShared</span><span style="color:#24292E;">({name: </span><span style="color:#032F62;">&quot;react&quot;</span><span style="color:#24292E;">})</span></span>
<span class="line"><span style="color:#D73A49;">await</span><span style="color:#24292E;"> wpmjs.</span><span style="color:#6F42C1;">getShared</span><span style="color:#24292E;">({name: </span><span style="color:#032F62;">&quot;react&quot;</span><span style="color:#24292E;">, requiredVersion: </span><span style="color:#032F62;">&quot;18.2.0&quot;</span><span style="color:#24292E;">, singleton: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">})</span></span></code></pre></div><h2 id="sleep" tabindex="-1">sleep() <a class="header-anchor" href="#sleep" aria-label="Permalink to &quot;sleep()&quot;">​</a></h2><p>等待一段时间之后再发起加载请求</p><ol><li>动态importMap</li></ol><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">wpmjs.</span><span style="color:#B392F0;">sleep</span><span style="color:#E1E4E8;">(window.</span><span style="color:#B392F0;">fetch</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;https://importMap.json&quot;</span><span style="color:#E1E4E8;">).</span><span style="color:#B392F0;">then</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">res</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> res.</span><span style="color:#B392F0;">json</span><span style="color:#E1E4E8;">())</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">then</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">importMap</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    wpmjs.</span><span style="color:#B392F0;">addImportMap</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">      react: {packageVersion: </span><span style="color:#9ECBFF;">&quot;17.0.2&quot;</span><span style="color:#E1E4E8;">},</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">...</span><span style="color:#E1E4E8;">importMap</span></span>
<span class="line"><span style="color:#E1E4E8;">    })</span></span>
<span class="line"><span style="color:#E1E4E8;">  })</span></span>
<span class="line"><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> wpmjs.</span><span style="color:#B392F0;">import</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;react&quot;</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// 17.0.2</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">wpmjs.</span><span style="color:#6F42C1;">sleep</span><span style="color:#24292E;">(window.</span><span style="color:#6F42C1;">fetch</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;https://importMap.json&quot;</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">then</span><span style="color:#24292E;">(</span><span style="color:#E36209;">res</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> res.</span><span style="color:#6F42C1;">json</span><span style="color:#24292E;">())</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">then</span><span style="color:#24292E;">(</span><span style="color:#E36209;">importMap</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    wpmjs.</span><span style="color:#6F42C1;">addImportMap</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">      react: {packageVersion: </span><span style="color:#032F62;">&quot;17.0.2&quot;</span><span style="color:#24292E;">},</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">...</span><span style="color:#24292E;">importMap</span></span>
<span class="line"><span style="color:#24292E;">    })</span></span>
<span class="line"><span style="color:#24292E;">  })</span></span>
<span class="line"><span style="color:#D73A49;">await</span><span style="color:#24292E;"> wpmjs.</span><span style="color:#6F42C1;">import</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;react&quot;</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// 17.0.2</span></span></code></pre></div><h2 id="constructor" tabindex="-1">constructor() <a class="header-anchor" href="#constructor" aria-label="Permalink to &quot;constructor()&quot;">​</a></h2><p>创建新的wpmjs实例</p><ol><li>多版本共存</li></ol><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">wpmjs</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> window.wpmjs</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">wpmjs1</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> wpmjs.</span><span style="color:#B392F0;">constructor</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 打印错误信息时会附带name</span></span>
<span class="line"><span style="color:#E1E4E8;">  name: </span><span style="color:#9ECBFF;">&quot;wpmjs1&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#E1E4E8;">wpmjs.</span><span style="color:#B392F0;">addImportMap</span><span style="color:#E1E4E8;">({ packageName: </span><span style="color:#9ECBFF;">&quot;react&quot;</span><span style="color:#E1E4E8;">, packageVersion: </span><span style="color:#9ECBFF;">&quot;18.2.0&quot;</span><span style="color:#E1E4E8;">, strictVersion: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;"> })</span></span>
<span class="line"><span style="color:#E1E4E8;">wpmjs1.</span><span style="color:#B392F0;">addImportMap</span><span style="color:#E1E4E8;">({ packageName: </span><span style="color:#9ECBFF;">&quot;react&quot;</span><span style="color:#E1E4E8;">, packageVersion: </span><span style="color:#9ECBFF;">&quot;17.0.2&quot;</span><span style="color:#E1E4E8;">, strictVersion: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;"> })</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#E1E4E8;">wpmjs.</span><span style="color:#B392F0;">import</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;react&quot;</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// 18.2.0</span></span>
<span class="line"><span style="color:#E1E4E8;">wpmjs1.</span><span style="color:#B392F0;">import</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;react&quot;</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// 17.0.2</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">wpmjs</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> window.wpmjs</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">wpmjs1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> wpmjs.</span><span style="color:#6F42C1;">constructor</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 打印错误信息时会附带name</span></span>
<span class="line"><span style="color:#24292E;">  name: </span><span style="color:#032F62;">&quot;wpmjs1&quot;</span></span>
<span class="line"><span style="color:#24292E;">})</span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#24292E;">wpmjs.</span><span style="color:#6F42C1;">addImportMap</span><span style="color:#24292E;">({ packageName: </span><span style="color:#032F62;">&quot;react&quot;</span><span style="color:#24292E;">, packageVersion: </span><span style="color:#032F62;">&quot;18.2.0&quot;</span><span style="color:#24292E;">, strictVersion: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;"> })</span></span>
<span class="line"><span style="color:#24292E;">wpmjs1.</span><span style="color:#6F42C1;">addImportMap</span><span style="color:#24292E;">({ packageName: </span><span style="color:#032F62;">&quot;react&quot;</span><span style="color:#24292E;">, packageVersion: </span><span style="color:#032F62;">&quot;17.0.2&quot;</span><span style="color:#24292E;">, strictVersion: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;"> })</span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#24292E;">wpmjs.</span><span style="color:#6F42C1;">import</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;react&quot;</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// 18.2.0</span></span>
<span class="line"><span style="color:#24292E;">wpmjs1.</span><span style="color:#6F42C1;">import</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;react&quot;</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// 17.0.2</span></span></code></pre></div><h2 id="system" tabindex="-1">System <a class="header-anchor" href="#system" aria-label="Permalink to &quot;System&quot;">​</a></h2><p>使用<a href="https://npmjs.com/package/systemjs-intercept" target="_blank" rel="noreferrer">systemjs-intercept</a>拦截了加载过程的systemjs实例, 这个实例加载的模块及依赖会使用wpmjs来寻找</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">wpmjs.System.</span><span style="color:#B392F0;">import</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;react-dom&quot;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">wpmjs.System.</span><span style="color:#6F42C1;">import</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;react-dom&quot;</span><span style="color:#24292E;">)</span></span></code></pre></div><h2 id="registerloader" tabindex="-1">registerLoader() <a class="header-anchor" href="#registerloader" aria-label="Permalink to &quot;registerLoader()&quot;">​</a></h2><p>注册新的模块类型与其加载器, 例:</p><ol><li>创建一个css加载器<div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">wpmjs.</span><span style="color:#B392F0;">registerLoader</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">    moduleType: </span><span style="color:#9ECBFF;">&quot;css&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">resolveUrl</span><span style="color:#E1E4E8;">({</span><span style="color:#FFAB70;">name</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">version</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">query</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">entry</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">filename</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">baseUrl</span><span style="color:#E1E4E8;">}) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#9ECBFF;">/</span><span style="color:#DBEDFF;">https</span><span style="color:#F97583;">?</span><span style="color:#DBEDFF;">:</span><span style="color:#85E89D;font-weight:bold;">\/\/</span><span style="color:#DBEDFF;">(localhost</span><span style="color:#F97583;">|</span><span style="color:#DBEDFF;">(</span><span style="color:#79B8FF;">\d</span><span style="color:#F97583;">+</span><span style="color:#85E89D;font-weight:bold;">\.</span><span style="color:#DBEDFF;">)</span><span style="color:#F97583;">{2}</span><span style="color:#DBEDFF;">)</span><span style="color:#9ECBFF;">/</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">test</span><span style="color:#E1E4E8;">(baseUrl)) {</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`${</span><span style="color:#E1E4E8;">baseUrl</span><span style="color:#9ECBFF;">}/${</span><span style="color:#E1E4E8;">filename</span><span style="color:#9ECBFF;">}`</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">        query </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> query </span><span style="color:#F97583;">?</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;?&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> query </span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        filename </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> filename </span><span style="color:#F97583;">?</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;/&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> filename </span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        version </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> version </span><span style="color:#F97583;">?</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;@&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> version </span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`${</span><span style="color:#E1E4E8;">baseUrl</span><span style="color:#9ECBFF;">}/${</span><span style="color:#E1E4E8;">name</span><span style="color:#9ECBFF;">}${</span><span style="color:#E1E4E8;">version</span><span style="color:#9ECBFF;">}${</span><span style="color:#E1E4E8;">filename</span><span style="color:#9ECBFF;">}${</span><span style="color:#E1E4E8;">query</span><span style="color:#9ECBFF;">}`</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">resolveContainer</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">url</span><span style="color:#E1E4E8;">, {</span><span style="color:#FFAB70;">requestObj</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">pkgConfig</span><span style="color:#E1E4E8;">}) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> link </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">createElement</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;link&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">        link.href </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> url</span></span>
<span class="line"><span style="color:#E1E4E8;">        document.head.</span><span style="color:#B392F0;">appendChild</span><span style="color:#E1E4E8;">(link)</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> link</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">resolveEntry</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">container</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">entry</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">wpmjs.</span><span style="color:#B392F0;">addImportMap</span><span style="color:#E1E4E8;">({ testCss: { packageName: </span><span style="color:#9ECBFF;">&quot;antd@0.0.1/dist/index.css&quot;</span><span style="color:#E1E4E8;">, moduleType: </span><span style="color:#9ECBFF;">&quot;css&quot;</span><span style="color:#E1E4E8;"> } })</span></span>
<span class="line"><span style="color:#E1E4E8;">wpmjs.</span><span style="color:#B392F0;">import</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;testCss&quot;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">wpmjs.</span><span style="color:#6F42C1;">registerLoader</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">    moduleType: </span><span style="color:#032F62;">&quot;css&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">resolveUrl</span><span style="color:#24292E;">({</span><span style="color:#E36209;">name</span><span style="color:#24292E;">, </span><span style="color:#E36209;">version</span><span style="color:#24292E;">, </span><span style="color:#E36209;">query</span><span style="color:#24292E;">, </span><span style="color:#E36209;">entry</span><span style="color:#24292E;">, </span><span style="color:#E36209;">filename</span><span style="color:#24292E;">, </span><span style="color:#E36209;">baseUrl</span><span style="color:#24292E;">}) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#032F62;">/https</span><span style="color:#D73A49;">?</span><span style="color:#032F62;">:</span><span style="color:#22863A;font-weight:bold;">\/\/</span><span style="color:#032F62;">(localhost</span><span style="color:#D73A49;">|</span><span style="color:#032F62;">(</span><span style="color:#005CC5;">\d</span><span style="color:#D73A49;">+</span><span style="color:#22863A;font-weight:bold;">\.</span><span style="color:#032F62;">)</span><span style="color:#D73A49;">{2}</span><span style="color:#032F62;">)/</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">test</span><span style="color:#24292E;">(baseUrl)) {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`${</span><span style="color:#24292E;">baseUrl</span><span style="color:#032F62;">}/${</span><span style="color:#24292E;">filename</span><span style="color:#032F62;">}`</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">        query </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> query </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;?&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> query </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;&quot;</span></span>
<span class="line"><span style="color:#24292E;">        filename </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> filename </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;/&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> filename </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;&quot;</span></span>
<span class="line"><span style="color:#24292E;">        version </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> version </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;@&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> version </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`${</span><span style="color:#24292E;">baseUrl</span><span style="color:#032F62;">}/${</span><span style="color:#24292E;">name</span><span style="color:#032F62;">}${</span><span style="color:#24292E;">version</span><span style="color:#032F62;">}${</span><span style="color:#24292E;">filename</span><span style="color:#032F62;">}${</span><span style="color:#24292E;">query</span><span style="color:#032F62;">}`</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">resolveContainer</span><span style="color:#24292E;">(</span><span style="color:#E36209;">url</span><span style="color:#24292E;">, {</span><span style="color:#E36209;">requestObj</span><span style="color:#24292E;">, </span><span style="color:#E36209;">pkgConfig</span><span style="color:#24292E;">}) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">var</span><span style="color:#24292E;"> link </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> document.</span><span style="color:#6F42C1;">createElement</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;link&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">        link.href </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> url</span></span>
<span class="line"><span style="color:#24292E;">        document.head.</span><span style="color:#6F42C1;">appendChild</span><span style="color:#24292E;">(link)</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> link</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">resolveEntry</span><span style="color:#24292E;">(</span><span style="color:#E36209;">container</span><span style="color:#24292E;">, </span><span style="color:#E36209;">entry</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">wpmjs.</span><span style="color:#6F42C1;">addImportMap</span><span style="color:#24292E;">({ testCss: { packageName: </span><span style="color:#032F62;">&quot;antd@0.0.1/dist/index.css&quot;</span><span style="color:#24292E;">, moduleType: </span><span style="color:#032F62;">&quot;css&quot;</span><span style="color:#24292E;"> } })</span></span>
<span class="line"><span style="color:#24292E;">wpmjs.</span><span style="color:#6F42C1;">import</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;testCss&quot;</span><span style="color:#24292E;">)</span></span></code></pre></div></li><li>自定义system模块的加载行为（如url规则、执行js的方式等）<div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">wpmjs.</span><span style="color:#B392F0;">registerLoader</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">resolveUrl</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> url</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">resolveContainer</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">url</span><span style="color:#E1E4E8;">, {</span><span style="color:#FFAB70;">requestObj</span><span style="color:#E1E4E8;">}) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">eval</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">fetch</span><span style="color:#E1E4E8;">(url)).</span><span style="color:#B392F0;">text</span><span style="color:#E1E4E8;">())</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> window[requestObj.name]</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">resolveEntry</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">container</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">entry</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> container[entry]</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">wpmjs.</span><span style="color:#6F42C1;">registerLoader</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">resolveUrl</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> url</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">resolveContainer</span><span style="color:#24292E;">(</span><span style="color:#E36209;">url</span><span style="color:#24292E;">, {</span><span style="color:#E36209;">requestObj</span><span style="color:#24292E;">}) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">eval</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">fetch</span><span style="color:#24292E;">(url)).</span><span style="color:#6F42C1;">text</span><span style="color:#24292E;">())</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> window[requestObj.name]</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">resolveEntry</span><span style="color:#24292E;">(</span><span style="color:#E36209;">container</span><span style="color:#24292E;">, </span><span style="color:#E36209;">entry</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> container[entry]</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">})</span></span></code></pre></div></li></ol><h2 id="debug" tabindex="-1">debug() <a class="header-anchor" href="#debug" aria-label="Permalink to &quot;debug()&quot;">​</a></h2><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">wpmjs.</span><span style="color:#B392F0;">debug</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">    baseUrl: string; </span><span style="color:#6A737D;">// develop-panel会需要用到一些远程npm包, 此处为它设置源</span></span>
<span class="line"><span style="color:#E1E4E8;">    plugins: Array</span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;">string</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;">// wpm-develop-panel是一个调试面板, 可以嵌入一些调试工具, 此处可以配置工具名, 会自动去加载wpm-develop-${plugins[index]}对应的npm包</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">wpmjs.</span><span style="color:#6F42C1;">debug</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">    baseUrl: string; </span><span style="color:#6A737D;">// develop-panel会需要用到一些远程npm包, 此处为它设置源</span></span>
<span class="line"><span style="color:#24292E;">    plugins: Array</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">string</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#6A737D;">// wpm-develop-panel是一个调试面板, 可以嵌入一些调试工具, 此处可以配置工具名, 会自动去加载wpm-develop-${plugins[index]}对应的npm包</span></span>
<span class="line"><span style="color:#24292E;">})</span></span></code></pre></div><p>打开调试面板, 可以使用系统插件和自定义插件</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">window.wpmjsDebug.</span><span style="color:#B392F0;">debug</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">    baseUrl: </span><span style="color:#9ECBFF;">&quot;https://cdn.jsdelivr.net/npm&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    plugins: [</span><span style="color:#9ECBFF;">&quot;connect&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;alias&quot;</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">window.wpmjsDebug.</span><span style="color:#6F42C1;">debug</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">    baseUrl: </span><span style="color:#032F62;">&quot;https://cdn.jsdelivr.net/npm&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    plugins: [</span><span style="color:#032F62;">&quot;connect&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;alias&quot;</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">})</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-6b87e69f data-v-ef5dee53><!--[--><!--]--><div class="edit-info" data-v-ef5dee53><!----><div class="last-updated" data-v-ef5dee53><p class="VPLastUpdated" data-v-ef5dee53 data-v-7e05ebdb>更新时间: <time datetime="2024-01-22T06:57:51.000Z" data-v-7e05ebdb></time></p></div></div><nav class="prev-next" data-v-ef5dee53><div class="pager" data-v-ef5dee53><a class="pager-link prev" href="/wpmjs/build/api/plugin.html" data-v-ef5dee53><span class="desc" data-v-ef5dee53>上一篇</span><span class="title" data-v-ef5dee53>插件API</span></a></div><div class="pager" data-v-ef5dee53><!----></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5a346dfe data-v-e03eb2e1><div class="container" data-v-e03eb2e1><!----><p class="copyright" data-v-e03eb2e1>Copyright © 2013-2023 www.weimob.com All Rights Reserved  上海微盟企业发展有限公司版权所有</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"contribute_develop-plugins.md\":\"644a283f\",\"api_plugin.md\":\"6afce3a9\",\"contribute_loader.md\":\"47c57e91\",\"guide_debug-panel.md\":\"f50c42a1\",\"index.md\":\"69e8bcc1\",\"guide_import-remote.md\":\"ec73bcfe\",\"guide_why.md\":\"a1cd5402\",\"guide_upload-remote.md\":\"0115e7c6\",\"api_wpmjs.md\":\"d5f954ab\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"官方文档\",\"description\":\"微前端包管理工具\",\"base\":\"/wpmjs/build/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.png\",\"nav\":[{\"text\":\"指南\",\"link\":\"/guide/\",\"activeMatch\":\"/guide/\"},{\"text\":\"API\",\"link\":\"/api/\"},{\"text\":\"GitHub\",\"link\":\"https://github.com/weimob-tech/wpmjs\"}],\"sidebar\":{\"/\":[{\"text\":\"指南\",\"items\":[{\"text\":\"为什么选wpmjs\",\"link\":\"/guide/why\"},{\"text\":\"使用远程npm包\",\"link\":\"/guide/import-remote\"},{\"text\":\"开发远程npm包\",\"link\":\"/guide/upload-remote\"},{\"text\":\"使用调试面板\",\"link\":\"/guide/debug-panel\"}]},{\"text\":\"扩展或贡献\",\"items\":[{\"text\":\"编写loader\",\"link\":\"/contribute/loader\"},{\"text\":\"编写调试面板插件\",\"link\":\"/contribute/develop-plugins\"}]},{\"text\":\"API\",\"items\":[{\"text\":\"插件API\",\"link\":\"/api/plugin\"},{\"text\":\"wpmjs API\",\"link\":\"/api/wpmjs\"}]}]},\"footer\":{\"message\":\"\",\"copyright\":\"Copyright © 2013-2023 www.weimob.com All Rights Reserved  上海微盟企业发展有限公司版权所有\"},\"search\":{\"provider\":\"local\",\"options\":{\"translations\":{\"button\":{\"buttonText\":\"搜索文档\",\"buttonAriaLabel\":\"搜索文档\"},\"modal\":{\"noResultsText\":\"无法找到相关结果\",\"resetButtonTitle\":\"清除查询条件\",\"footer\":{\"selectText\":\"选择\",\"navigateText\":\"切换\",\"closeText\":\"关闭\"}}}}},\"lastUpdatedText\":\"更新时间\",\"outlineTitle\":\"目录\",\"docFooter\":{\"next\":\"下一篇\",\"prev\":\"上一篇\"},\"notFound\":{\"title\":\"抱歉，您访问的页面不存在\",\"quote\":\"请检查您输入的网址是否正确，或者返回主页继续浏览。谢谢！\",\"linkText\":\"返回主页\",\"linkLabel\":\"回到主页\"}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>